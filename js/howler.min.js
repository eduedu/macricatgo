!function(){var a={},i=null,e=!0,o=!1;try{"undefined"!=typeof AudioContext?i=new AudioContext:"undefined"!=typeof webkitAudioContext?i=new webkitAudioContext:e=!1}catch(t){e=!1}if(!e)if("undefined"!=typeof Audio)try{new Audio}catch(t){o=!0}else o=!0;if(e){var r="undefined"==typeof i.createGain?i.createGainNode():i.createGain();r.gain.value=1,r.connect(i.destination)}var n=function(a){this._volume=1,this._muted=!1,this.usingWebAudio=e,this.ctx=i,this.noAudio=o,this._howls=[],this._codecs=a,this.iOSAutoEnable=!0};n.prototype={volume:function(a){var i=this;if(a=parseFloat(a),a>=0&&1>=a){i._volume=a,e&&(r.gain.value=a);for(var o in i._howls)if(i._howls.hasOwnProperty(o)&&i._howls[o]._webAudio===!1)for(var t=0;t<i._howls[o]._audioNode.length;t++)i._howls[o]._audioNode[t].volume=i._howls[o]._volume*i._volume;return i}return e?r.gain.value:i._volume},mute:function(){return this._setMuted(!0),this},unmute:function(){return this._setMuted(!1),this},_setMuted:function(a){var i=this;i._muted=a,e&&(r.gain.value=a?0:i._volume);for(var o in i._howls)if(i._howls.hasOwnProperty(o)&&i._howls[o]._webAudio===!1)for(var t=0;t<i._howls[o]._audioNode.length;t++)i._howls[o]._audioNode[t].muted=a},codecs:function(a){return this._codecs[a]},_enableiOSAudio:function(){var a=this;if(!i||!a._iOSEnabled&&/iPhone|iPad|iPod/i.test(navigator.userAgent)){a._iOSEnabled=!1;var e=function(){var o=i.createBuffer(1,1,22050),t=i.createBufferSource();t.buffer=o,t.connect(i.destination),"undefined"==typeof t.start?t.noteOn(0):t.start(0),setTimeout(function(){(t.playbackState===t.PLAYING_STATE||t.playbackState===t.FINISHED_STATE)&&(a._iOSEnabled=!0,a.iOSAutoEnable=!1,window.removeEventListener("touchend",e,!1))},0)};return window.addEventListener("touchend",e,!1),a}}};var l=null,s={};o||(l=new Audio,s={mp3:!!l.canPlayType("audio/mpeg;").replace(/^no$/,""),opus:!!l.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!l.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!l.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!l.canPlayType("audio/aac;").replace(/^no$/,""),m4a:!!(l.canPlayType("audio/x-m4a;")||l.canPlayType("audio/m4a;")||l.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(l.canPlayType("audio/x-mp4;")||l.canPlayType("audio/mp4;")||l.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!l.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")});var c=new n(s),v=function(a){var o=this;o._autoplay=a.autoplay||!1,o._buffer=a.buffer||!1,o._duration=a.duration||0,o._format=a.format||null,o._loop=a.loop||!1,o._loaded=!1,o._sprite=a.sprite||{},o._src=a.src||"",o._pos3d=a.pos3d||[0,0,-.5],o._volume=void 0!==a.volume?a.volume:1,o._urls=a.urls||[],o._rate=a.rate||1,o._model=a.model||null,o._onload=[a.onload||function(){}],o._onloaderror=[a.onloaderror||function(){}],o._onend=[a.onend||function(){}],o._onpause=[a.onpause||function(){}],o._onplay=[a.onplay||function(){}],o._onendTimer=[],o._webAudio=e&&!o._buffer,o._audioNode=[],o._webAudio&&o._setupAudioNode(),"undefined"!=typeof i&&i&&c.iOSAutoEnable&&c._enableiOSAudio(),c._howls.push(o),o.load()};if(v.prototype={load:function(){var a=this,i=null;if(o)return void a.on("loaderror");for(var e=0;e<a._urls.length;e++){var t,r;if(a._format)t=a._format;else{if(r=a._urls[e],t=/^data:audio\/([^;,]+);/i.exec(r),t||(t=/\.([^.]+)$/.exec(r.split("?",1)[0])),!t)return void a.on("loaderror");t=t[1].toLowerCase()}if(s[t]){i=a._urls[e];break}}if(!i)return void a.on("loaderror");if(a._src=i,a._webAudio)d(a,i);else{var l=new Audio;l.addEventListener("error",function(){l.error&&4===l.error.code&&(n.noAudio=!0),a.on("loaderror",{type:l.error?l.error.code:0})},!1),a._audioNode.push(l),l.src=i,l._pos=0,l.preload="auto",l.volume=c._muted?0:a._volume*c.volume();var v=function(){a._duration=Math.ceil(10*l.duration)/10,0===Object.getOwnPropertyNames(a._sprite).length&&(a._sprite={_default:[0,1e3*a._duration]}),a._loaded||(a._loaded=!0,a.on("load")),a._autoplay&&a.play(),l.removeEventListener("canplaythrough",v,!1)};l.addEventListener("canplaythrough",v,!1),l.load()}return a},urls:function(a){var i=this;return a?(i.stop(),i._urls="string"==typeof a?[a]:a,i._loaded=!1,i.load(),i):i._urls},play:function(a,e){var o=this;return"function"==typeof a&&(e=a),a&&"function"!=typeof a||(a="_default"),o._loaded?o._sprite[a]?(o._inactiveNode(function(t){t._sprite=a;var r=t._pos>0?t._pos:o._sprite[a][0]/1e3,n=0;o._webAudio?(n=o._sprite[a][1]/1e3-t._pos,t._pos>0&&(r=o._sprite[a][0]/1e3+r)):n=o._sprite[a][1]/1e3-(r-o._sprite[a][0]/1e3);var v,l=!(!o._loop&&!o._sprite[a][2]),s="string"==typeof e?e:Math.round(Date.now()*Math.random())+"";if(function(){var i={id:s,sprite:a,loop:l};v=setTimeout(function(){!o._webAudio&&l&&o.stop(i.id).play(a,i.id),o._webAudio&&!l&&(o._nodeById(i.id).paused=!0,o._nodeById(i.id)._pos=0,o._clearEndTimer(i.id)),o._webAudio||l||o.stop(i.id),o.on("end",s)},1e3*n),o._onendTimer.push({timer:v,id:i.id})}(),o._webAudio){var d=o._sprite[a][0]/1e3,u=o._sprite[a][1]/1e3;t.id=s,t.paused=!1,f(o,[l,d,u],s),o._playStart=i.currentTime,t.gain.value=o._volume,"undefined"==typeof t.bufferSource.start?l?t.bufferSource.noteGrainOn(0,r,86400):t.bufferSource.noteGrainOn(0,r,n):l?t.bufferSource.start(0,r,86400):t.bufferSource.start(0,r,n)}else{if(4!==t.readyState&&(t.readyState||!navigator.isCocoonJS))return o._clearEndTimer(s),function(){var i=o,r=a,n=e,l=t,s=function(){i.play(r,n),l.removeEventListener("canplaythrough",s,!1)};l.addEventListener("canplaythrough",s,!1)}(),o;t.readyState=4,t.id=s,t.currentTime=r,t.muted=c._muted||t.muted,t.volume=o._volume*c.volume(),setTimeout(function(){t.play()},0)}return o.on("play"),"function"==typeof e&&e(s),o}),o):("function"==typeof e&&e(),o):(o.on("load",function(){o.play(a,e)}),o)},pause:function(a){var i=this;if(!i._loaded)return i.on("play",function(){i.pause(a)}),i;i._clearEndTimer(a);var e=a?i._nodeById(a):i._activeNode();if(e)if(e._pos=i.pos(null,a),i._webAudio){if(!e.bufferSource||e.paused)return i;e.paused=!0,"undefined"==typeof e.bufferSource.stop?e.bufferSource.noteOff(0):e.bufferSource.stop(0)}else e.pause();return i.on("pause"),i},stop:function(a){var i=this;if(!i._loaded)return i.on("play",function(){i.stop(a)}),i;i._clearEndTimer(a);var e=a?i._nodeById(a):i._activeNode();if(e)if(e._pos=0,i._webAudio){if(!e.bufferSource||e.paused)return i;e.paused=!0,"undefined"==typeof e.bufferSource.stop?e.bufferSource.noteOff(0):e.bufferSource.stop(0)}else isNaN(e.duration)||(e.pause(),e.currentTime=0);return i},mute:function(a){var i=this;if(!i._loaded)return i.on("play",function(){i.mute(a)}),i;var e=a?i._nodeById(a):i._activeNode();return e&&(i._webAudio?e.gain.value=0:e.muted=!0),i},unmute:function(a){var i=this;if(!i._loaded)return i.on("play",function(){i.unmute(a)}),i;var e=a?i._nodeById(a):i._activeNode();return e&&(i._webAudio?e.gain.value=i._volume:e.muted=!1),i},volume:function(a,i){var e=this;if(a=parseFloat(a),a>=0&&1>=a){if(e._volume=a,!e._loaded)return e.on("play",function(){e.volume(a,i)}),e;var o=i?e._nodeById(i):e._activeNode();return o&&(e._webAudio?o.gain.value=a:o.volume=a*c.volume()),e}return e._volume},loop:function(a){var i=this;return"boolean"==typeof a?(i._loop=a,i):i._loop},sprite:function(a){var i=this;return"object"==typeof a?(i._sprite=a,i):i._sprite},pos:function(a,e){var o=this;if(!o._loaded)return o.on("load",function(){o.pos(a)}),"number"==typeof a?o:o._pos||0;a=parseFloat(a);var t=e?o._nodeById(e):o._activeNode();if(t)return a>=0?(o.pause(e),t._pos=a,o.play(t._sprite,e),o):o._webAudio?t._pos+(i.currentTime-o._playStart):t.currentTime;if(a>=0)return o;for(var r=0;r<o._audioNode.length;r++)if(o._audioNode[r].paused&&4===o._audioNode[r].readyState)return o._webAudio?o._audioNode[r]._pos:o._audioNode[r].currentTime},pos3d:function(a,i,e,o){var t=this;if(i="undefined"!=typeof i&&i?i:0,e="undefined"!=typeof e&&e?e:-.5,!t._loaded)return t.on("play",function(){t.pos3d(a,i,e,o)}),t;if(!(a>=0||0>a))return t._pos3d;if(t._webAudio){var r=o?t._nodeById(o):t._activeNode();r&&(t._pos3d=[a,i,e],r.panner.setPosition(a,i,e),r.panner.panningModel=t._model||"HRTF")}return t},fade:function(a,i,e,o,t){var r=this,n=Math.abs(a-i),l=a>i?"down":"up",s=n/.01,c=e/s;if(!r._loaded)return r.on("load",function(){r.fade(a,i,e,o,t)}),r;r.volume(a,t);for(var v=1;s>=v;v++)!function(){var a=r._volume+("up"===l?.01:-.01)*v,e=Math.round(1e3*a)/1e3,n=i;setTimeout(function(){r.volume(e,t),e===n&&o&&o()},c*v)}()},fadeIn:function(a,i,e){return this.volume(0).play().fade(0,a,i,e)},fadeOut:function(a,i,e,o){var t=this;return t.fade(t._volume,a,i,function(){e&&e(),t.pause(o),t.on("end")},o)},_nodeById:function(a){for(var i=this,e=i._audioNode[0],o=0;o<i._audioNode.length;o++)if(i._audioNode[o].id===a){e=i._audioNode[o];break}return e},_activeNode:function(){for(var a=this,i=null,e=0;e<a._audioNode.length;e++)if(!a._audioNode[e].paused){i=a._audioNode[e];break}return a._drainPool(),i},_inactiveNode:function(a){for(var i=this,e=null,o=0;o<i._audioNode.length;o++)if(i._audioNode[o].paused&&4===i._audioNode[o].readyState){a(i._audioNode[o]),e=!0;break}if(i._drainPool(),!e){var t;if(i._webAudio)t=i._setupAudioNode(),a(t);else{i.load(),t=i._audioNode[i._audioNode.length-1];var r=navigator.isCocoonJS?"canplaythrough":"loadedmetadata",n=function(){t.removeEventListener(r,n,!1),a(t)};t.addEventListener(r,n,!1)}}},_drainPool:function(){var e,a=this,i=0;for(e=0;e<a._audioNode.length;e++)a._audioNode[e].paused&&i++;for(e=a._audioNode.length-1;e>=0&&!(5>=i);e--)a._audioNode[e].paused&&(a._webAudio&&a._audioNode[e].disconnect(0),i--,a._audioNode.splice(e,1))},_clearEndTimer:function(a){for(var i=this,e=0,o=0;o<i._onendTimer.length;o++)if(i._onendTimer[o].id===a){e=o;break}var t=i._onendTimer[e];t&&(clearTimeout(t.timer),i._onendTimer.splice(e,1))},_setupAudioNode:function(){var a=this,e=a._audioNode,o=a._audioNode.length;return e[o]="undefined"==typeof i.createGain?i.createGainNode():i.createGain(),e[o].gain.value=a._volume,e[o].paused=!0,e[o]._pos=0,e[o].readyState=4,e[o].connect(r),e[o].panner=i.createPanner(),e[o].panner.panningModel=a._model||"equalpower",e[o].panner.setPosition(a._pos3d[0],a._pos3d[1],a._pos3d[2]),e[o].panner.connect(e[o]),e[o]},on:function(a,i){var e=this,o=e["_on"+a];if("function"==typeof i)o.push(i);else for(var t=0;t<o.length;t++)i?o[t].call(e,i):o[t].call(e);return e},off:function(a,i){var e=this,o=e["_on"+a],t=i?i.toString():null;if(t){for(var r=0;r<o.length;r++)if(t===o[r].toString()){o.splice(r,1);break}}else e["_on"+a]=[];return e},unload:function(){for(var i=this,e=i._audioNode,o=0;o<i._audioNode.length;o++)e[o].paused||(i.stop(e[o].id),i.on("end",e[o].id)),i._webAudio?e[o].disconnect(0):e[o].src="";for(o=0;o<i._onendTimer.length;o++)clearTimeout(i._onendTimer[o].timer);var t=c._howls.indexOf(i);null!==t&&t>=0&&c._howls.splice(t,1),delete a[i._src],i=null}},e)var d=function(i,e){if(e in a)return i._duration=a[e].duration,void m(i);if(/^data:[^;]+;base64,/.test(e)){for(var o=atob(e.split(",")[1]),t=new Uint8Array(o.length),r=0;r<o.length;++r)t[r]=o.charCodeAt(r);u(t.buffer,i,e)}else{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=function(){u(n.response,i,e)},n.onerror=function(){i._webAudio&&(i._buffer=!0,i._webAudio=!1,i._audioNode=[],delete i._gainNode,delete a[e],i.load())};try{n.send()}catch(l){n.onerror()}}},u=function(e,o,t){i.decodeAudioData(e,function(i){i&&(a[t]=i,m(o,i))},function(a){o.on("loaderror")})},m=function(a,i){a._duration=i?i.duration:a._duration,0===Object.getOwnPropertyNames(a._sprite).length&&(a._sprite={_default:[0,1e3*a._duration]}),a._loaded||(a._loaded=!0,a.on("load")),a._autoplay&&a.play()},f=function(e,o,t){var r=e._nodeById(t);r.bufferSource=i.createBufferSource(),r.bufferSource.buffer=a[e._src],r.bufferSource.connect(r.panner),r.bufferSource.loop=o[0],o[0]&&(r.bufferSource.loopStart=o[1],r.bufferSource.loopEnd=o[1]+o[2]),r.bufferSource.playbackRate.value=e._rate};"function"==typeof define&&define.amd&&define(function(){return{Howler:c,Howl:v}}),"undefined"!=typeof exports&&(exports.Howler=c,exports.Howl=v),"undefined"!=typeof window&&(window.Howler=c,window.Howl=v)}(),Howl.prototype.playString=function(a){a.length>1?this._onend[0]=function(){this.playString(a.substring(2,a.length))}:this._onend[0]=function(){},a.length>0&&this.play(a.substring(0,2))};